service: tp53-dev
runtime: python

env: flex
entrypoint: gunicorn -t 120 -b :$PORT main:app

runtime_config:
  python_version: "3.8"
  operating_system: "ubuntu18"

# instance_class: F4_1G
# network:
#   instance_tag: isb-cgc-tp53

env_variables:
  DATA_VERSION: 'r21'
  BQ_GCP: 'nih-nci-cbiit-tp53-dev'
  BQ_DATASET: 'P53_data'
  IS_TEST: True
  TP53_STATIC_URL: 'https://storage.googleapis.com/nci-cbiit-tp53-dev-web-static-files'
  HSTS_MAX_AGE: '3600'
  IS_GAE_DEPLOYMENT: 'True'

handlers:
- url: /.*
  script: auto
  secure: always